{"version":3,"sources":["styles.module.css","components/Searchbar.js","components/ApiService.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","props","onSubmit","this","className","styles","buttonBorder","form","type","button","buttonLabel","role","aria-label","onChange","input","autoComplete","autoFocus","placeholder","Component","KEY","FetchPics","a","page","axios","get","response","data","hits","ImageGalleryItem","webformatURL","alt","onSelect","src","image","onClick","ImageGallery","render","articleList","list","map","article","tags","id","Button","tittle","LoadMoreButton","Modal","backDropRef","createRef","handlePress","code","toggleModal","handleBackDropClick","current","window","addEventListener","removeEventListener","item","ref","overlay","modal","largeImageURL","App","articles","error","isLoading","isModalOpen","modalItem","fetchPics","undefined","ApiService","then","prevState","catch","finally","filter","handleClick","prevProps","scrollTo","top","document","body","scrollHeight","behavior","app","loadMoreBlock","color","height","width","length","ReactDOM","getElementById"],"mappings":"mFACAA,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,MAAQ,sBAAsB,gBAAkB,gCAAgC,aAAe,6BAA6B,KAAO,qBAAqB,MAAQ,sBAAsB,OAAS,uBAAuB,YAAc,4BAA4B,cAAgB,8BAA8B,eAAiB,+BAA+B,QAAU,wBAAwB,MAAQ,wB,mLCG3bC,E,4MACnBC,MAAQ,CAAEC,MAAO,I,EAGjBC,aAAe,YAAiB,IAAdC,EAAa,EAAbA,OACRC,EAAgBD,EAAhBC,KAAMC,EAAUF,EAAVE,MACd,EAAKC,SAAL,eAAiBF,EAAOC,K,EAG1BE,aAAe,SAAAC,GACbA,EAAEC,iBACF,EAAKC,MAAMC,SAAS,EAAKX,MAAMC,OAC/B,EAAKK,SAAS,CAAEL,MAAO,M,4CAGzB,WACE,IAAQA,EAAUW,KAAKZ,MAAfC,MACR,OACE,qBAAKY,UAAWC,IAAOC,aAAvB,SACE,uBAAMJ,SAAUC,KAAKL,aAAcM,UAAWC,IAAOE,KAArD,UACE,wBAAQC,KAAK,SAASJ,UAAWC,IAAOI,OAAxC,SACE,sBACEL,UAAWC,IAAOK,YAClBC,KAAK,MACLC,aAAW,aAGf,uBACEC,SAAUV,KAAKV,aACfE,KAAK,QACLC,MAAOJ,EACPY,UAAWC,IAAOS,MAClBN,KAAK,OACLO,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GAnCeC,a,iBCFjCC,EAAM,qCAQG,GAAEC,UAPF,uCAAG,WAAO5B,GAAP,6BAAA6B,EAAA,6DAAcC,EAAd,+BAAqB,EAArB,SACOC,IAAMC,IAAN,qCACShC,EADT,iBACuB8B,EADvB,gBACmCH,EADnC,yDADP,cACVM,EADU,yBAITA,EAASC,KAAKC,MAJL,2CAAH,uDCkBAC,EAfU,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,IAAKC,EAAtB,EAAsBA,SAAtB,OACvB,oBAAI3B,UAAWC,IAAOuB,iBAAtB,SACE,qBACEI,IAAKH,EACLC,IAAKA,EACL1B,UAAWC,IAAO4B,MAClBC,QAASH,OCgBAI,EAvBM,iBAAO,CAC1BC,OAD0B,WAExB,MAAkCjC,KAAKF,MAA/BoC,EAAR,EAAQA,YAAaN,EAArB,EAAqBA,SACrB,OACE,oBAAI3B,UAAWC,IAAOiC,KAAtB,SACGD,EAAYE,KAAI,SAAAC,GAAO,OACtB,cAAC,EAAD,CAEEX,aAAcW,EAAQX,aACtBC,IAAKU,EAAQC,KACbV,SAAU,kBAAMA,EAASS,EAAQE,MAH5BF,EAAQE,YCGVC,EAXA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQV,EAAX,EAAWA,QAAX,OACb,wBAAQA,QAASA,EAAS9B,UAAWC,IAAOwC,eAA5C,SACGD,KCFgBE,E,4MACnBC,YAAcC,sB,EAWdC,YAAc,SAAAlD,GACG,WAAXA,EAAEmD,MACN,EAAKjD,MAAMkD,e,EAGbC,oBAAsB,SAAArD,GACpB,IAAQsD,EAAY,EAAKN,YAAjBM,QACJA,GAAWA,IAAYtD,EAAEL,QAC7B,EAAKO,MAAMkD,e,uDAdb,WACEG,OAAOC,iBAAiB,UAAWpD,KAAK8C,e,kCAE1C,WACEK,OAAOE,oBAAoB,UAAWrD,KAAK8C,e,oBAa7C,WACE,IAAQQ,EAAStD,KAAKF,MAAdwD,KACR,OACE,qBACEC,IAAKvD,KAAK4C,YACV3C,UAAWC,IAAOsD,QAClBzB,QAAS/B,KAAKiD,oBAHhB,SAKE,qBAAKhD,UAAWC,IAAOuD,MAAvB,SACE,qBAAK5B,IAAKyB,EAAKI,cAAe/B,IAAK2B,EAAKhB,e,GAhCfvB,a,iBCKd4C,E,4MACnBvE,MAAQ,CACNwE,SAAU,GACVC,MAAO,KACP1C,KAAM,EACN2C,WAAW,EACXzE,MAAO,GACP0E,aAAa,EACbC,UAAW,I,EAGbC,UAAY,SAAC5E,EAAO8B,QACJ+C,IAAV7E,IACF,EAAKK,SAAS,CAAEoE,WAAW,IAE3BK,EACGlD,UAAU5B,EAAO8B,GACjBiD,MAAK,SAAAR,GAAQ,OACZ,EAAKlE,UAAS,SAAA2E,GAAS,MAAK,CAC1BT,SAAS,GAAD,mBAAMS,EAAUT,UAAhB,YAA6BA,IACrCzC,KAAMkD,EAAUlD,KAAO,EACvB9B,MAAOA,SAGViF,OAAM,SAAAT,GAAK,OAAI,EAAKnE,SAAS,CAAEmE,aAC/BU,SAAQ,WACP,EAAK7E,SAAS,CAAEoE,WAAW,S,EAKnCd,YAAc,kBAAM,EAAKtD,SAAS,CAAEqE,aAAc,EAAK3E,MAAM2E,e,EAC7DnC,SAAW,SAAAW,GACT,EAAK7C,UAAS,SAAAN,GAAK,MAAK,CACtB4E,UAAW5E,EAAMwE,SAASY,QAAO,SAAA1C,GAAK,OAAIA,EAAMS,KAAOA,KACvDwB,aAAc,EAAK3E,MAAM2E,iB,EAG7BU,Y,sBAAc,gCAAAvD,EAAA,wDACY,EAAK9B,MAArBC,EADI,EACJA,MAAO8B,EADH,EACGA,KACf,EAAK8C,UAAU5E,EAAO8B,GAFV,2C,wDAKd,SAAmBuD,EAAWL,GACxBA,EAAUT,WAAa5D,KAAKZ,MAAMwE,UACpCT,OAAOwB,SAAS,CACdC,IAAKC,SAASC,KAAKC,aACnBC,SAAU,a,oBAIhB,WACE,OACE,sBAAK/E,UAAWC,IAAO+E,IAAvB,UACE,cAAC,EAAD,CAAWlF,SAAUC,KAAKiE,YAC1B,qBAAKhE,UAAWC,IAAOgF,cAAvB,SACGlF,KAAKZ,MAAM0E,WACV,cAAC,IAAD,CAAQzD,KAAK,YAAY8E,MAAM,UAAUC,OAAQ,GAAIC,MAAO,OAGhE,cAAC,EAAD,CACEnD,YAAalC,KAAKZ,MAAMwE,SACxBhC,SAAU5B,KAAK4B,WAEjB,qBAAK3B,UAAWC,IAAOgF,cAAvB,SACGlF,KAAKZ,MAAMwE,SAAS0B,OAAS,GAC5B,cAAC,EAAD,CAAQ7C,OAAO,YAAYV,QAAS/B,KAAKyE,gBAG5CzE,KAAKZ,MAAM2E,aACV,cAAC,EAAD,CACET,KAAMtD,KAAKZ,MAAM4E,UAAU,GAC3BhB,YAAahD,KAAKgD,qB,GAxEGjC,a,MCJjCwE,IAAStD,OAAO,cAAC,EAAD,IAAS4C,SAASW,eAAe,W","file":"static/js/main.0352b2ef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"styles_app__1aTJl\",\"list\":\"styles_list__1X_Wo\",\"image\":\"styles_image__3lm_T\",\"imageGaleryItem\":\"styles_imageGaleryItem__psHK2\",\"buttonBorder\":\"styles_buttonBorder__3A58s\",\"form\":\"styles_form__2rtl2\",\"input\":\"styles_input__JUXtg\",\"button\":\"styles_button__jo6qc\",\"buttonLabel\":\"styles_buttonLabel__1TqJ3\",\"loadMoreBlock\":\"styles_loadMoreBlock__QnbbQ\",\"LoadMoreButton\":\"styles_LoadMoreButton__3ZWjH\",\"overlay\":\"styles_overlay__1NhjB\",\"modal\":\"styles_modal__1_SbD\"};","import React, { Component } from 'react';\nimport styles from '../styles.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  state = { query: '' };\n  static propTypes = { onSubmit: PropTypes.func };\n  \n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  };\n  \n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\nжб\n  render() {\n    const { query } = this.state;\n    return (\n      <div className={styles.buttonBorder}>\n        <form onSubmit={this.handleSubmit} className={styles.form}>\n          <button type=\"submit\" className={styles.button}>\n            <span\n              className={styles.buttonLabel}\n              role=\"img\"\n              aria-label=\"search\"\n            ></span>\n          </button>\n          <input\n            onChange={this.handleChange}\n            name=\"query\"\n            value={query}\n            className={styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </div>\n    );\n  }\n}","import axios from 'axios';\n\nconst KEY = '21713203-59f88e93ebf9f6a1a38c26b66';\nconst FetchPics = async (query, page = 1) => {\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return response.data.hits;\n};\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { FetchPics };","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from '../styles.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, alt, onSelect }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={alt}\n      className={styles.image}\n      onClick={onSelect}\n    />\n  </li>\n);\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  alt: PropTypes.string,\n  onSelect: PropTypes.func,\n};\nexport default ImageGalleryItem;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../styles.module.css';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nconst ImageGallery = () => ({\n  render() {\n    const { articleList, onSelect } = this.props;\n    return (\n      <ul className={styles.list}>\n        {articleList.map(article => (\n          <ImageGalleryItem\n            key={article.id}\n            webformatURL={article.webformatURL}\n            alt={article.tags}\n            onSelect={() => onSelect(article.id)}\n          />\n        ))}\n      </ul>\n    );\n  }\n})\n\nImageGallery.propTypes = {\n    articleList: PropTypes.arrayOf(PropTypes.object),\n    onSelect: PropTypes.func,\n  };\n\nexport default ImageGallery;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../styles.module.css';\n\nconst Button = ({ tittle, onClick }) => (\n  <button onClick={onClick} className={styles.LoadMoreButton}>\n    {tittle}\n  </button>\n);\n\nButton.propTypes = {\n  tittle: PropTypes.string,\n  onClick: PropTypes.func,\n}\n\nexport default Button;","import React, { Component, createRef } from 'react';\nimport styles from '../styles.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  backDropRef = createRef();\n  static propTypes = {\n    item: PropTypes.objectOf(PropTypes.string),\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlePress);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlePress);\n  }\n  handlePress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.toggleModal();\n  };\n\n  handleBackDropClick = e => {\n    const { current } = this.backDropRef;\n    if (current && current !== e.target) return;\n    this.props.toggleModal();\n  };\n\n  render() {\n    const { item } = this.props;\n    return (\n      <div\n        ref={this.backDropRef}\n        className={styles.overlay}\n        onClick={this.handleBackDropClick}\n      >\n        <div className={styles.modal}>\n          <img src={item.largeImageURL} alt={item.tags} />\n        </div>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ApiService from './components/ApiService';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport styles from './styles.module.css';\nimport Loader from 'react-loader-spinner';\n\nexport default class App extends Component {\n  state = {\n    articles: [],\n    error: null,\n    page: 1,\n    isLoading: false,\n    query: '',\n    isModalOpen: false,\n    modalItem: [],\n  };\n\n  fetchPics = (query, page) => {\n    if (query !== undefined) {\n      this.setState({ isLoading: true });\n\n      ApiService\n        .FetchPics(query, page)\n        .then(articles =>\n          this.setState(prevState => ({\n            articles: [...prevState.articles, ...articles],\n            page: prevState.page + 1,\n            query: query,\n          })),\n        )\n        .catch(error => this.setState({ error }))\n        .finally(() => {\n          this.setState({ isLoading: false });\n        });\n    }\n  };\n  \n  toggleModal = () => this.setState({ isModalOpen: !this.state.isModalOpen });\n  onSelect = id => {\n    this.setState(state => ({\n      modalItem: state.articles.filter(image => image.id === id),\n      isModalOpen: !this.state.isModalOpen,\n    }));\n  };\n  handleClick = async () => {\n    const { query, page } = this.state;\n    this.fetchPics(query, page);\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.articles !== this.state.articles) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  render() {\n    return (\n      <div className={styles.app}>\n        <Searchbar onSubmit={this.fetchPics} />\n        <div className={styles.loadMoreBlock}>\n          {this.state.isLoading && (\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n          )}\n        </div>\n        <ImageGallery\n          articleList={this.state.articles}\n          onSelect={this.onSelect}\n        />\n        <div className={styles.loadMoreBlock}>\n          {this.state.articles.length > 0 && (\n            <Button tittle=\"Load more\" onClick={this.handleClick} />\n          )}\n        </div>\n        {this.state.isModalOpen && (\n          <Modal\n            item={this.state.modalItem[0]}\n            toggleModal={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './base.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}